<div class="row">
  <div class="col-12 m-t-15">
    <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-8">
              <h4 class="header-title mb-3">Direcciones</h4>
            </div>
            <div class="col-4">
              <li class="box-label"><a href="javascript:void(0)" data-toggle="modal" data-target="#myModal" class="btn btn-info text-white">+ Registrar nueva dirección</a></li>
              <div id="myModal" class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                          <div class="modal-header">
                              <h4 class="modal-title" id="myModalLabel">Agregar dirección</h4>
                          </div>
                          <div class="modal-body">
                              <form class="form-horizontal" [formGroup]="myForm">
                                <div class="row">
                                  <div class="col-4">
                                    <div class="form-group">
                                      <label class="col-md-12">Dirección</label>
                                      <div class="col-md-12">
                                          <input type="text" class="form-control" placeholder="Dirección" formControlName="address"></div>
                                      </div>
                                      <div class="form-group">
                                        <label class="col-md-12">Longitud</label>
                                        <div class="col-md-12">
                                          <input type="text" class="form-control" placeholder="Longitud" formControlName="longitude" disable>
                                        </div>
                                      </div>
                                      <div class="form-group">
                                        <label class="col-md-12">Latitud</label>
                                        <div class="col-md-12">
                                          <input type="text" class="form-control" placeholder="Latitud" formControlName="latitude" disable>
                                        </div>
                                      </div>
                                  </div>
                                  <div class="col-8">
                                    <div #map style="width: 100%; height: 250px;"></div>
                                  </div>
                                </div>
                              </form>
                          </div>
                          <div class="modal-footer">
                              <button type="button" class="btn btn-info waves-effect" data-dismiss="modal" (click)="create()">Crear</button>
                              <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Cancelar</button>
                          </div>
                      </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
  @for (address of addresses; track $index) {
    <div class="col-12 m-t-15">
        <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-8">
                  <small class="text">Dirección</small>
                  <h6>{{ address.address }}</h6>
                  <small class="text p-t-30 db">Latitud</small>
                  <h6>{{ address.latitude }}</h6>
                  <small class="text p-t-30 db">Longitud</small>
                  <h6>{{ address.longitude }}</h6>
                  <small class="text p-t-30 db">Fecha de creación</small>
                  <h6>{{ address.created_at | date: 'MMM dd, yyyy'  }}</h6>
                </div>
                <div class="col-4">
                  <div class="card">
                    <map-mini-map [lngLat]="[address.longitude, address.latitude]" />
                    <div class="card-body">
                      <p class="card-text">{{ address.address }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
    </div>
  }
</div>
